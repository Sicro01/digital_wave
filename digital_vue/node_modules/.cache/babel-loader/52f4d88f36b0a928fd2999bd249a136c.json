{"ast":null,"code":"import ConfirmDialog from '@/components/dialogs/ConfirmDialog';\nexport default {\n  name: 'TestDialog',\n  components: {\n    ConfirmDialog\n  },\n  data() {\n    return {\n      valid: false,\n      editPlan: {\n        name: '',\n        description: ''\n      }\n    };\n  },\n  props: {\n    value: Boolean,\n    plan: Object\n  },\n  watch: {\n    value(val) {\n      if (val) {\n        // this.mensagem = Object.assign({}, this.mensagemEdit);\n        this.editPlan.name = JSON.parse(JSON.stringify(this.plan.name));\n        console.log('watch before start plan name: ', this.plan.name);\n        this.editPlan.name = 'Bob';\n        console.log('watch before start editplan name: ', this.editPlan.name);\n        console.log('watch after start plan name: ', this.plan.name);\n        // this.editPlan.name = this.plan.name\n        this.editPlan.description = this.plan.description;\n        // console.log('start plan: ', this.plan)\n      }\n    },\n\n    plan: {\n      immediate: true,\n      handler(newVal, oldVal) {\n        console.log('watching plan newval: ', newVal);\n        console.log('watching plan oldval: ', oldVal);\n      }\n    }\n  },\n  computed: {\n    show: {\n      get() {\n        return this.value;\n      },\n      set(value) {\n        this.$emit('input', value);\n      }\n    },\n    isEdit: {\n      get() {\n        if (this.plan.id > -1) return true;else return false;\n      }\n    }\n  },\n  methods: {\n    save(value) {\n      console.log('save plan name: ', this.plan.name);\n      console.log('save edit plan: ', this.editPlan.name);\n      console.log('save plan: ', this.plan);\n      this.plan.name = this.editPlan.name;\n      this.plan.description = this.editPlan.description;\n      this.isEdit ? this.$emit(\"update-plan\", this.plan) : this.$emit(\"create-plan\", this.plan);\n      this.show = false;\n      // this.$refs.form.reset();\n    },\n\n    async delPlan() {\n      if (await this.$refs.confirm.open(\"Confirm\", \"Are you sure you want to delete this record?\")) {\n        console.log('delete it');\n        this.deletePlan();\n      }\n    },\n    deletePlan() {\n      console.log(\"Record deleted.\");\n      this.$emit(\"delete-plan\", this.dialogPlan);\n      this.$refs.form.reset();\n    },\n    close() {\n      if (!this.isEdit) this.$refs.form.reset();\n      this.show = false;\n      // this.$refs.form.reset();\n    },\n\n    updated() {\n      console.log('updating plan: ', this.plan);\n    }\n  }\n};","map":{"version":3,"mappings":"AAgEA;AAEA;EACAA;EACAC;IACAC;EACA;EACAC;IACA;MACAC;MACAC;QACAL;QACAM;MACA;IACA;EACA;EACAC;IACAC;IACAC;EACA;EACAC;IACAF;MACA;QACA;QACA;QACAG;QACA;QACAA;QACAA;QACA;QACA;QACA;MACA;IACA;;IACAF;MACAG;MACAC;QACAF;QACAA;MACA;IACA;EACA;EACAG;IACAC;MACAC;QACA;MACA;MACAC;QACA;MACA;IACA;IACAC;MACAF;QACA,uBACA,iBAEA;MACA;IACA;EACA;EACAG;IACAC;MACAT;MACAA;MACAA;MACA;MACA;MACA;MACA;MACA;IACA;;IACA;MACA;QACAA;QACA;MACA;IACA;IACAU;MACAV;MACA;MACA;IACA;IACAW;MACA;MACA;MACA;IACA;;IACAC;MACAZ;IACA;EACA;AACA","names":["name","components","ConfirmDialog","data","valid","editPlan","description","props","value","plan","watch","console","immediate","handler","computed","show","get","set","isEdit","methods","save","deletePlan","close","updated"],"sourceRoot":"src/components/dialogs","sources":["TestDialog.vue"],"sourcesContent":["<template>\r\n    <v-form\r\n        ref=\"form\"\r\n        v-model=\"valid\">\r\n        <v-dialog v-model=\"show\" max-width=\"600\" persistent>\r\n            <v-card flat outlined class=\" mt-2 rounded-0\">\r\n                <v-card-title>\r\n                    {{ isEdit ? \"Edit Plan Details\" : \"Enter New Plan Details\" }}\r\n                </v-card-title>\r\n                <v-card-text>\r\n                    <v-text-field\r\n                        v-model=\"editPlan.name\"\r\n                        label=\"Name\"\r\n                        dense\r\n                        class=\"rounded-0\"\r\n                        outlined>\r\n                    </v-text-field>\r\n                </v-card-text>\r\n                <v-card-text>\r\n                    <v-textarea\r\n                        v-model=\"editPlan.description\"\r\n                        label=\"Description\"\r\n                        dense\r\n                        class=\"rounded-0\"\r\n                        outlined>\r\n                    </v-textarea>\r\n                </v-card-text>\r\n                <v-card-actions>\r\n                    <v-btn\r\n                        class=\"ml-2 error rounded-0 text-capitalize\"\r\n                        depressed\r\n                        :disabled=\"!isEdit\"\r\n                        @click=\"delPlan\">\r\n                        Delete\r\n                    </v-btn>\r\n                    <ConfirmDialog ref=\"confirm\" />\r\n                    <v-spacer></v-spacer>\r\n                    <v-btn\r\n                        class=\"grey lighten-1 mr-3 rounded-0 text-capitalize\"\r\n                        light\r\n                        depressed\r\n                        @click=\"close\">\r\n                        Cancel\r\n                    </v-btn>\r\n                    <v-btn\r\n                        class=\"mr-3 success rounded-0 text-capitalize\"\r\n                        depressed\r\n                        :disabled=\"!valid\"\r\n                        @click=\"save\">\r\n                        Save\r\n                    </v-btn>\r\n                    <v-btn\r\n                        class=\"mr-3 success rounded-0 text-capitalize\"\r\n                        depressed\r\n                        :disabled=\"!valid\">\r\n                        Copy\r\n                    </v-btn>\r\n                </v-card-actions>\r\n            </v-card>\r\n        </v-dialog>\r\n    </v-form>\r\n</template>\r\n\r\n<script>\r\nimport ConfirmDialog from '@/components/dialogs/ConfirmDialog'\r\n\r\nexport default {\r\n    name: 'TestDialog',\r\n    components: {\r\n        ConfirmDialog,\r\n    },\r\n    data() {\r\n        return {\r\n            valid: false,\r\n            editPlan: {\r\n                name: '',\r\n                description: '',\r\n            }\r\n        }\r\n    },\r\n    props: {\r\n        value: Boolean,\r\n        plan: Object,\r\n    },\r\n    watch: {\r\n        value(val) {\r\n            if (val) {\r\n                // this.mensagem = Object.assign({}, this.mensagemEdit);\r\n                this.editPlan.name = JSON.parse(JSON.stringify(this.plan.name))\r\n                console.log('watch before start plan name: ', this.plan.name)\r\n                this.editPlan.name = 'Bob'\r\n                console.log('watch before start editplan name: ', this.editPlan.name)\r\n                console.log('watch after start plan name: ', this.plan.name)\r\n                // this.editPlan.name = this.plan.name\r\n                this.editPlan.description = this.plan.description\r\n                // console.log('start plan: ', this.plan)\r\n            }\r\n        },\r\n        plan: {\r\n            immediate: true,\r\n            handler(newVal, oldVal) {\r\n                console.log('watching plan newval: ', newVal)\r\n                console.log('watching plan oldval: ', oldVal)\r\n            }\r\n        }\r\n    },\r\n    computed: {\r\n        show: {\r\n            get() {\r\n                return this.value\r\n            },\r\n            set(value) {\r\n                this.$emit('input', value)\r\n            },\r\n        },\r\n        isEdit: {\r\n            get() {\r\n                if (this.plan.id > -1)\r\n                    return true\r\n                else\r\n                    return false\r\n            }\r\n        },\r\n    },\r\n    methods: {\r\n        save(value) {\r\n            console.log('save plan name: ', this.plan.name)\r\n            console.log('save edit plan: ', this.editPlan.name)\r\n            console.log('save plan: ', this.plan)\r\n            this.plan.name = this.editPlan.name\r\n            this.plan.description = this.editPlan.description\r\n            this.isEdit ? this.$emit(\"update-plan\", this.plan) : this.$emit(\"create-plan\", this.plan)\r\n            this.show = false\r\n            // this.$refs.form.reset();\r\n        },\r\n        async delPlan() {\r\n            if (await this.$refs.confirm.open(\"Confirm\", \"Are you sure you want to delete this record?\")) {\r\n                console.log('delete it')\r\n                this.deletePlan();\r\n            }\r\n        },\r\n        deletePlan() {\r\n            console.log(\"Record deleted.\")\r\n            this.$emit(\"delete-plan\", this.dialogPlan)\r\n            this.$refs.form.reset();\r\n        },\r\n        close() {\r\n            if (!this.isEdit) this.$refs.form.reset()\r\n            this.show = false\r\n            // this.$refs.form.reset();\r\n        },\r\n        updated() {\r\n            console.log('updating plan: ', this.plan)\r\n        }\r\n    }\r\n}\r\n</script>"]},"metadata":{},"sourceType":"module"}